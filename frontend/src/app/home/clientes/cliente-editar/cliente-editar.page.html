
<div class="container card">
  <p class="h2 my-3"><b>Editar cliente</b></p>
  <form [formGroup]="customerForm" (ngSubmit)="onSubmit()" class="card-body">
    <div class="row">
      <div class="mb-3 form-group col-md-4" >
        <label for="identification_type" class="form-label">Tipo de documento *</label>
        <select class="form-select"  (change)="changeSelect($event)" formControlName="identification_type" id="identification_type" aria-label="Default select example" >
          <option value="1">CC</option>
          <option value="2">NIT</option>
          <option value="3">CE</option>
        </select>
      </div>
      <div class="mb-3 form-group " [ngClass]="expandAllClass === true ? 'col-md-8' : 'col-md-6'">
        <label for="identification" class="form-label">Número identificación *</label>
        <input type="number" class="form-control" formControlName="identification" id="identification" placeholder="" required>
      </div>
      <div *ngIf="showDigitV" class="mb-3 form-group col-md-2">
        <label for="digit_v" class="form-label">DV</label>
        <input type="number" class="form-control" formControlName="digit_v" id="digit_v" placeholder="#" required>
      </div>
      <div class="mb-3 form-group col-md-6">
        <label for="name" class="form-label">Nombres *</label>
        <input type="text" class="form-control" formControlName="name" id="name" placeholder="Nombres" value="Mark" required>
      </div>
      <div class="mb-3 form-group col-md-6">
        <label for="surname" class="form-label">Apellidos *</label>
        <input type="text" class="form-control"  formControlName="surname" id="surname" placeholder="Apellidos" value="Mark" required>
      </div>



      <div class="mb-3 form-group col-md-12">
        <label for="phone_number" class="form-label">Número telefónico * </label>
        <input type="number" class="form-control" formControlName="phone_number" id="phone_number" placeholder=" # Telefono" required>
      </div>

      <div class="mb-3 form-group col-md-4">
        <label for="phone_number" class="form-label">Departamento * </label>
        <ion-item>
          <!-- <ion-label >Port</ion-label> -->
          <ionic-selectable
            [items]="departamentos"
            itemValueField="id"
            itemTextField="name"
            [canSearch]="true"
            formControlName="departamento"
            (onChange)="departamentoChange($event)"
            >
          </ionic-selectable>
        </ion-item>
        <!-- <label for="validation04" class="form-label">Departamento *</label>
        <input type="text" class="form-control" formControlName="departamento"  id="validation04" placeholder="Direccion" required> -->
      </div>

      <div class="mb-3 form-group col-md-4">
        <label for="phone_number" class="form-label">Municipio * </label>
        <ion-item>
          <!-- <ion-label >Port</ion-label> -->
          <ionic-selectable
            [items]="municipios"
            itemValueField="id"
            itemTextField="name"
            [canSearch]="true"
            formControlName="municipio"

            >
          </ionic-selectable>
        </ion-item>
      </div>


      <div class="mb-3 form-group col-md-4">
        <label for="validation04" class="form-label">Dirección *</label>
        <input type="text" class="form-control" formControlName="address"  id="validation04" placeholder="Direccion" required>
      </div>


      <div class="mb-3 form-group col-md-12">
        <label for="validation04" class="form-label">Correo electrónico *</label>
        <input type="email" class="form-control" formControlName="email"  id="validation04" placeholder="ejemplo@gmail.com" required>
      </div>


      <div class="col-md-3">
        <button type="button"  (click)="openContactModal(1)" class="btn btn-primary">
          Contacto comercial 1
        </button>
      </div> <br>

      <div class="col-md-3">
        <button type="button" (click)="openContactModal(2)" class="btn btn-primary">
          Contacto comercial 2 </button>
        </div><br>

        <div class="col-md-3">
          <button type="button" (click)="openContactModal(3)" class="btn btn-primary">
            Contacto Facturación</button>
          </div><br>

          <div class="col-md-3">
            <button type="button" (click)="openContactModal(4)" class="btn btn-primary">
              Contacto Pagos / Tesoreria</button>
            </div>

              <br>
              <br>
              <br>

      <div class="mb-3 form-group col-md-6">
        <label for="validation06" class="form-label">Razón social *</label>
        <input type="text" class="form-control" formControlName="razon_social" id="validation06" placeholder="" required>
      </div>

      <div class="mb-3 form-group col-md-6">
        <label for="validation06" class="form-label">Razón comercial *</label>
        <input type="text" class="form-control" formControlName="razon_comercial" id="validation06" placeholder="" required>
      </div>

      <div class="mb-3 form-group col-md-6">
        <label for="validation07" class="form-label">RUT *</label>
        <input type="file" class="form-control"   formControlName="rut_file_field" (change)="onFileChange($event, 'rut_file_field')" id="validation07" placeholder="" accept=".doc, .docx, .jpg, .png, .pdf">
      </div>

      <div class="mb-3 form-group col-md-6">
        <label for="validation08" class="form-label">Cámara de comercio</label>
        <input type="file" class="form-control" formControlName="camara_commerce_file_field" (change)="onFileChange($event, 'camara_commerce_file_field')" id="validation08" placeholder="Cargue archivo" accept=".doc, .docx, .jpg, .png, .pdf">
      </div>

      <div class="mb-3 form-group col-md-6">
        <label for="validation09" class="form-label">Declaración de renta</label>
        <input type="file" class="form-control" formControlName="income_statement_file_field" (change)="onFileChange($event, 'income_statement_file_field')" id="validation09" placeholder="Cargue archivo" accept=".doc, .docx, .jpg, .png, .pdf">
      </div>

      <div class="mb-3 form-group col-md-6">
        <label class="form-label" for="validation09">Logo cliente</label>
        <br>
        <input type="file" class="form-control d-none"  formControlName="cliente_logo_field" (change)="onFileSelected($event)" #photoInput accept="image/png, image/jpeg" id="validation09" placeholder="Seleccione" >
        <!-- <img [src]="selectedFile || " class="img-fluid" alt="No image"> -->
        <img (click)="photoInput.click()" [src]="selectedFile || client_logo  || 'assets/icon/foto.png'" class="img-fluid img" alt="No image">
        <!-- ->
 -->
      </div>

    </div>

    <div class="d-flex justify-content-end col-md-12">
      <button type="submit" class="btn btn-primary">Editar cliente</button>
    </div>

    <div *ngIf="registeredSuccessfully" class="alert alert-success alert-dismissible fade show mt-2" role="alert">
      <strong>Mensaje</strong> Cliente creado exitosamente
      <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
    </div>
  </form>

</div>
