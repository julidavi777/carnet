<div class="container mt-4">

  <form [formGroup]="rolForm" (ngSubmit)="onSubmit()" class="formu">
    <div class="row">

      <div class="mb-3 col-md-6">
        <label for="name" class="form-label">Nombre rol</label>
        <input type="text" class="form-control" placeholder="Admin" required formControlName="name">
      </div>

      <div class="row mt-2">
        <div class="col-12">
          <ngx-datatable class="material"
          [rows]="permisos"
          [columnMode]="'force'"
          [headerHeight]="50"
          [footerHeight]="50"
          [rowHeight]="'auto'"
          [loadingIndicator]="loadingIndicator">
            <ngx-datatable-column name="identification_type" [resizeable]="true"  [width]="300">
              <ng-template ngx-datatable-header-template>
                Permiso:
              </ng-template>
              <ng-template let-row="row" ngx-datatable-cell-template>
                {{row.description }}
              </ng-template>
            </ngx-datatable-column>
            <ngx-datatable-column name="identification_type" [resizeable]="true"  [width]="300">
              <ng-template ngx-datatable-header-template>
                Acciones:
              </ng-template>
              <ng-template let-row="row" ngx-datatable-cell-template>
                <!-- <p-inputSwitch (onChange)="handleChange($event, row)"></p-inputSwitch> -->

                <div class="form-check form-switch fs-4">
                  <input [checked]="row.is_enabled" class="form-check-input" (change)="handleChange($event, row)" type="checkbox" id="flexSwitchCheckDefault">
                </div>
              </ng-template>
            </ngx-datatable-column>
          </ngx-datatable>
        </div>
      </div>

    </div>
    <p-button [label]="isEditingData ? 'Editar' :'Guardar'" type="submit" class="mt-2" [disabled]="rolForm.invalid" [loading]="isLoadingButtonSave"></p-button>
  </form>


  <p-toast position="bottom-center" key="successMessage"></p-toast>
  <p-toast position="bottom-center" key="errorMessage"></p-toast>
</div>
